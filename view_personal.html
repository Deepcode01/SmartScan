<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>SmartView Personal Documents</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body { background-color: #f8f9fa; font-family: Arial; }
    .container { padding-top: 20px; }
    .table thead { background-color: #212529; color: #fff; }
    .btn-sm { margin-right: 5px; }
    h3 { margin-bottom: 20px; }
    .search-box { max-width: 400px; margin-bottom: 20px; }
  </style>
</head>
<body>
  <div class="container">
    <h3>üìÅ SmartView Personal Document Panel</h3>

    <form method="GET" action="/personalview" class="search-box d-flex">
      <input type="text" name="q" class="form-control me-2" placeholder="Search by file or folder" value="{{ query }}">
      <button class="btn btn-primary">Search</button>
    </form>

    <table class="table table-bordered table-hover table-sm">
      <thead>
        <tr>
          <th>File Name</th>
          <th>Person</th>
          <th>Type</th>
          <th>Name</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        {% for row in files %}
        <tr>
          <td>{{ row.file }}</td>
          <td>{{ row.person }}</td>
          <td>{{ row.type }}</td>
          <td>{{ row.name }}</td>
          <td>
            <a href="/download-personal/{{ row.path }}" class="btn btn-sm btn-primary">Download</a>
            <a href="/view-personal/{{ row.path }}" class="btn btn-sm btn-success">View</a>
            <a href="/print-personal/{{ row.path }}" class="btn btn-sm btn-warning">Print</a>
            <a href="/share-personal/{{ row.path }}" class="btn btn-sm btn-info">Share</a>
            <a href="/advanced-personal/{{ row.path }}" class="btn btn-sm btn-dark">Advanced</a>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</body>
</html>
